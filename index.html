<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Code Typing Test</title>

<style>
:root{
  --bg:#0b0f14;
  --card:#0f1720;
  --accent:#7dd3fc;
  --muted:#9aa6b2;
}
body{
  margin:0;
  font-family: system-ui, sans-serif;
  background:linear-gradient(180deg,#071025,#07151a);
  color:#e6eef6;
}
.container{
  max-width:900px;
  margin:auto;
  padding:24px;
}
h1{text-align:center;margin-bottom:8px}
.subtitle{text-align:center;color:var(--muted);margin-bottom:20px}

.card{
  background:var(--card);
  border:1px solid rgba(255,255,255,0.05);
  border-radius:12px;
  padding:16px;
}

pre{
  background:#020617;
  padding:14px;
  border-radius:10px;
  white-space:pre-wrap;
  font-size:14px;
  overflow:auto;
}

textarea{
  width:100%;
  min-height:200px;
  margin-top:14px;
  background:#020617;
  color:#e6eef6;
  border:1px solid #1e293b;
  border-radius:10px;
  padding:12px;
  font-family: monospace;
  font-size:14px;
}

.controls{
  display:flex;
  gap:10px;
  margin-top:14px;
}
button{
  flex:1;
  padding:10px;
  border-radius:8px;
  border:0;
  background:var(--accent);
  font-weight:700;
  cursor:pointer;
}

.result{
  margin-top:16px;
  display:none;
  background:#020617;
  padding:14px;
  border-radius:10px;
}
.small{color:var(--muted);font-size:13px}
</style>
</head>

<body>
<div class="container">
  <h1>‚å® Code Typing Test</h1>
  <p class="subtitle">Type the code exactly as shown</p>

  <div class="card">
    <p class="small">Question:</p>
    <pre id="question"></pre>

    <textarea id="answer" placeholder="Start typing code here..."></textarea>

    <div class="controls">
      <button onclick="submitTest()">Submit</button>
      <button onclick="newQuestion()">New Question</button>
    </div>

    <div class="result" id="result"></div>
  </div>
</div>

<script>
const questions = [
`function add(a, b) {
  return a + b;
}`,

`for (let i = 1; i <= 5; i++) {
  console.log(i);
}`,

`const greet = (name) => {
  return "Hello " + name;
};`,

`let sum = 0;
for (let i = 0; i < 10; i++) {
  sum += i;
}`
];

let current = "";

function newQuestion(){
  current = questions[Math.floor(Math.random()*questions.length)];
  document.getElementById("question").textContent = current;
  document.getElementById("answer").value = "";
  document.getElementById("result").style.display = "none";
}

function submitTest(){
  const typed = document.getElementById("answer").value;
  let errors = 0;
  const len = Math.max(typed.length, current.length);

  for(let i=0;i<len;i++){
    if(typed[i] !== current[i]) errors++;
  }

  const accuracy = Math.max(0, Math.round(((current.length - errors) / current.length) * 100));

  const result = document.getElementById("result");
  result.style.display = "block";
  result.innerHTML = `
    <h3>Result</h3>
    <p>Characters: ${current.length}</p>
    <p>Errors: ${errors}</p>
    <p>Accuracy: <b>${accuracy}%</b></p>
    <p>Marks: <b>${accuracy}/100</b></p>
  `;
}

newQuestion();
</script>
</body>
</html>
